<!doctype html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Miki 3</title>
    </head>
    <body>

     <div style="width: 100%; display: table;">
        <div style="width: 100%; display: table-row">
            <input type="text" id="currPath" style="width: 100%;" />
        </div>
        <div style="display: table-row">
            <div style="width: 15%; display: table-cell;">
                <ul id+"contentsList">
                    <li>Some list item</li>
                </ul>
            </div>
            <div style="display: table-cell;">
                <code>
                    Resulted code
                </code>
            </div>
        </div>
    </div>

    </body>
    <script type='text/javascript'>
        var contentsList = document.getElementById("contentsList");

        var JSAccessorInst = {};
        var Module = {
            'print': function(text) { console.log('STDOUT: ' + text); },
            'printErr': function(text) { console.log('STDERR: ' + text); },
            onRuntimeInitialized: function() {
                var JSAccessor = Module.Accessor.extend("Accessor", {
                    onSuccess: function(payload) {
                        for (var i=0; i<payload.size(); i++)
                        {
                            var mikiEl = payload.get(i);
                            console.log(mikiEl.name + ' => ' + mikiEl.path + '(' + mikiEl.type + ')');
                        }
                    },
                    onError: function(url, status) {
                        var errorStr = "ERROR: '";
                        errorStr += url;
                        errorStr += "' (";
                        errorStr += status;
                        errorStr += ")";

                        alert(errorStr);
                    },
                });

                JSAccessorInst = new JSAccessor;
                JSAccessorInst.get("/pages/");
            }
        };
    </script>
    <script async type="text/javascript" src="miki.js"></script>
</html>


